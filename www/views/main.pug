doctype html
html(lang="en")
    meta(charset="utf-8")
    meta(name="viewport" content="width=device-width, initial-scale=1")
    link(type='image/x-icon' href='../static/favicon.ico?v2' rel='icon')
    link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css" integrity="sha384-b6lVK+yci+bfDmaY1u0zE8YYJt0TZxLEAFyYSLHId4xoVvsrQu3INevFKo+Xir8e" crossorigin="anonymous")    
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous")
    link(rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs5/dt-1.13.1/b-2.3.3/fh-3.3.1/r-2.4.0/sc-2.0.7/sb-1.4.0/sp-2.1.0/datatables.min.css")
    script(src="https://code.jquery.com/jquery-3.6.0.min.js")
    script(src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous")
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous")
    script(src="https://code.iconify.design/iconify-icon/1.0.1/iconify-icon.min.js")
    script(src="https://cdn.datatables.net/plug-ins/1.10.13/features/mark.js/datatables.mark.js")
    script(src="https://cdn.jsdelivr.net/g/mark.js(jquery.mark.min.js)") 
    script(src="https://cdn.datatables.net/v/bs5/dt-1.13.1/b-2.3.3/fh-3.3.1/r-2.4.0/sc-2.0.7/sb-1.4.0/sp-2.1.0/datatables.min.js")
    script(type="text/javascript").
        $(document).ready(function() {
            //-- Nav Bar and ToolTips
            $('[data-toggle="tooltip"]').tooltip()
            const [protocol, blank, url, page] = location.href.split("/")
            switch(page){
                case "config" : 
                    document.getElementById("configNav").className = "px-0 nav-link hover show active";
                    break;
                case "token" : 
                    document.getElementById("tokenNav").className = "px-0 nav-link show active";
                    break;
                case "data" : 
                    document.getElementById("dataNav").className = "px-0 nav-link show active";
                    break;
                case "stream" : 
                    document.getElementById("streamNav").className = " px-0 nav-link show active";
                    break;
                case "banned" : 
                    document.getElementById("bannedNav").className = " px-0 nav-link show active";
                    break;
                case "permitted" : 
                    document.getElementById("permittedNav").className = " px-0 nav-link show active";
                    break;
                case "filtering" : 
                    document.getElementById("filteringNav").className = " px-0 nav-link show active";
                    break;
                case "": document.getElementById("instructionsNav").className = "px-0 nav-link show active";
                    break;
                default : break;
            }

            // Configure DataTables
            const tableConfig = {
                mark: true,
                paging: false,
                ordering: false,
                info: false,
                scrollY: '30vh',
                scrollCollapse: true,
                search: {},
            }
            // Initialize DataTables
            if ($('#ChattersTable')){
                $('#ChattersTable').DataTable(tableConfig);
            }
            if ($('#BannedUsersTable')){
                $('#BannedUsersTable').DataTable(tableConfig);
            }
            if ($('#PermittedUsersTable')){
                $('#PermittedUsersTable').DataTable(tableConfig);
            }
            if ($('#WordBankTable')){
                $('#WordBankTable').DataTable(tableConfig);
            }
        })


    style(type="text/css").
        .hl {
            background-color: red;
            position: absolute;
            z-index: -1;
        }
        iframe {
            width: 100%; 
            height: auto; 
            min-height: 500px; 
            max-height: 100%;
            border: 1px solid #7D7D7D !important; 
            border-radius: 6px !important; 
            filter: drop-shadow(1px 1px 2px black); 
            box-shadow: inset 0 0 10px #000000;

        }
        .form-control { 
            color: black !important; 
            background-color: #E3E3E3 !important; 
            filter: drop-shadow(1px 1px 3px black);  
            width: auto; 
            outline: none !important; 
            border: 1px solid #7D7D7D !important; 
            border-radius: 6px !important; 
        }
        .center { 
            background-color: #353535 !important;
            color: white;
            min-width: 500px;  
            width: auto; 
            max-width: 100%; 
            height:100% ;
            display: block; 
            margin: 0 auto; 
        }
        .tab-pane { 
            transition: all 0.25s linear; 
        }
        .navbar-expanded {
            display: inline; 
            min-width: 500px !important; 
            max-width: 100%; 
            border: 1px solid #545454; 
            filter: drop-shadow(1px 1px 3px black); 
            color:white;
            }
        .navbarImage { 
            width: 1.7rem; 
            height: 1.7rem; 
            filter: drop-shadow(1px 1px 3px black); 
            }
        body {
            background-color: #353535 !important;
            color: #ffff;
            filter: drop-shadow(1px 1px 3px black);
            height: 100%
            }
        table { 
            min-width: 70% !important;
            max-width: 100%; 
            width: 100%; 
            border-spacing: 1px !important;
            border-collapse: separate !important; 
            border-radius: 6px; 
            border: 1px solid #545454;
            }
        th { 
            background-color: black !important;
            padding: 5px !important; 
            text-align: center !important; 
            color: #FFFF;
            }

        tr { 
            filter: drop-shadow(1px 1px 2px black);
            text-shadow: 1px 1px 7px black;

            }
        td { 
            padding: 0.5em !important; 
            background-color: rgba(145, 145, 145, 0.1) !important; 
            color: #fff !important; 

            }
        .userIcon { 
            width: 25px; 
            height: 25px; 
            margin-right: 6px; 
            border-radius: 13px; 
            filter: drop-shadow(2px 2px 2px black); 
            } 
        .tableHeader {
            box-shadow: inset 0 0 10px #000000;
            color: #f00;
            background-color: #545454 !important;
            padding: 15px !important; 
            text-align: center !important; 
            }
        footer { 
            text-align: center !important; 
            bottom: 0 !important; 
            width: auto;
            text-shadow: 1px 1px 2px black;
            }
        .browserHeader {
            text-align: center;
            color: #f00;
            box-shadow: inset 0 0 10px #000000;
            padding-top: 25px;
            padding-bottom: 25px;
            background-color: #555555;
            border-radius: 6px; 
            text-shadow: 1px 1px 1px black;

            }
        .alert {
            min-width: 70% !important;
            max-width: 100%;
            filter: drop-shadow(1px 1px 2px black); 
            box-shadow: inset 0 0 10px #000000;
            text-shadow: 1px 1px 1px black;
        }
        button {
            box-shadow: inset 0 0 10px #000000;
        }
        a.nav-link {    
            color: white !important;
        }
        .active {
            background-color: #3B3B3B !important;
            width:100% !important;            
        }
        #menu :hover {
            box-shadow: inset 0 0 9px #3B3B3B !important;

        } 
        mark {
            padding: 0;
            background: #A6ACAF;
        }
        .dataTables_filter {
            width:100%;
            text-align:center;
        }
        .dot {
            height: 25px;
            width: 25px;
            background-color: green;
            border-radius: 50%;
            display: inline-block;
        }

    .container-fluid
        .row.flex-nowrap
            .col-auto.col-md-1.col-xl-2.px-sm-2.px-0.bg-dark
                .d-flex.flex-column.align-items-center.align-items-sm-start.px-3.pt-2.text-white.min-vh-100
                    a.d-flex.align-items-center.pb-3.mb-md-0.me-md-auto.text-white.text-decoration-none(href='/')
                        img(class='navbarImage' src='../static/favicon-32x32.png' alt='Logo')       
                        span.ms-1.d-none.d-sm-inline Mod Bot
                    ul#menu.nav.nav-pills.flex-column.mb-sm-auto.mb-0.align-items-center.align-items-sm-start(class="hover")
                        li.w-100
                            a.nav-link.px-0(id="instructionsNav" href='/')
                                i(class="bi bi-info-circle" style="color: white;")
                                span.ms-1.d-none.d-sm-inline Instructions
                        li.w-100
                            a.nav-link.px-0(id="configNav" href='/config')
                                i(class="bi bi-gear-wide-connected" style="color: white;")
                                span.d-none.d-sm-inline  Config
                        li.w-100
                            a.nav-link.px-0(id="tokenNav" href='/token')
                                i(class="bi bi-key-fill" style="color: white;")
                                span.d-none.d-sm-inline  Token
                        li.w-100
                            a.nav-link.px-0(id="streamNav" href='/stream')
                                i(class="bi bi-circle-fill" style="color: red;")
                                span.d-none.d-sm-inline  Stream
                        li.w-100
                            a.nav-link.px-0(id="bannedNav" href='/banned')
                                i( class="bi bi-slash-circle" style="color:white;")
                                span.d-none.d-sm-inline  Banned Users
                        li.w-100
                            a.nav-link.px-0(id="permittedNav" href='/permitted')
                                i(class="bi bi-check-lg" style="color:white;")
                                span.d-none.d-sm-inline  Permitted Users
                        li.w-100
                            a.nav-link.px-0(id="filteringNav" href='/filtering')
                                i(class="bi bi-card-text" style="color: white;")
                                span.d-none.d-sm-inline  Word Bank
                        hr
                        if user 
                            .dropdown
                            a.d-flex.align-items-center.text-white.text-decoration-none.dropdown-toggle(href='#' data-bs-toggle='dropdown' aria-expanded='false')
                                img.rounded-circle.me-2(src=user.profile_image_url alt=`${user.display_name} Icon` width='32' height='32')
                                strong=user.display_name
                            ul.dropdown-menu.dropdown-menu-dark.text-small.shadow
                                li
                                a.dropdown-item(href='/logout') Sign out

            .col.p-0    
                block content
                footer(class="align-center")

                    a( href="https://github.com/Bacon-Fixation/" style="color: white !important;") 
                        img(class="userIcon" src="https://avatars.githubusercontent.com/u/12632936?v=4" alt="Github Logo")
                        span Bacon-Fixation